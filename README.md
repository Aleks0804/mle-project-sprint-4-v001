# Проект. Создание рекомендательной системы. Часть 2

## Клонирование репозитория в выбранную вами директорию

Для клонирования репозитория, перейдите в выбранную вами директорию и выполните команду

```bash
git clone 
```

## Виртуальное окружение

Создайте виртуальное окружение 
```bash
python3.10 -m venv .venv_recsys_app
```
Активируйте его
```bash
source .venv_recsys_app/bin/activate
```
Перейдите в папку проекта и установите зависимости
```bash
pip install -r requirements.txt
```

## Подготовка к запуску сервиса

Для работы сервиса необходимы файлы данных подготовленные в первой части работы, их необходимо скачать с S3 бакета выполнив команду:
(бакет: s3-student-mle-20250804-caa1d60847-freetrack)

```bash
python s3.py
```

## Запуск сервиса

Для запуска сервиса необходимо выполнить следующие команды из дериктории service:

Каждая команда выполняется в своем терминале!

Терминал 1
```bash
uvicorn recommendation_service:app --port 8000
```
Терминал 2
```bash
uvicorn features_service:app --port 8010
```
Терминал 3
```bash
uvicorn events_service:app --port 8020
```

## Запуск test_service.py

Для запуска test_service.py необходимо перейти в папку проекта и выполнить команду

```bash
python test_service.py
```

В результате в папке проекта появится файл test_service.log с результатами тестирования согласно поставленой задачи:

    Тест для пользователя без персональных рекомендаций,
    Тест для пользователя с персональными рекомендациями, но без онлайн-истории,
    Тест для пользователя с персональными рекомендациями и онлайн-историей.

## Стратегия смешивания онлайн- и офлайн-рекомендаций

Стратегия смешивания реализована в recommendations_service.py, при условии наличия у пользователя онлайн рекомендаций, рекомендации предлагаются через одну, онлайн не четные, оффлайн четные.